{"ast":null,"code":"var _jsxFileName = \"/Users/evelyn/Documents/GitHub/UC-Socially-Undead/src/frontend/src/pages/PrefsQuiz.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport LoggedInTester from '../buttons/LoggedInTester';\nimport styles from '../styles/PrefsQuiz.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass PrefsQuiz extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user_id: 0,\n      tutor_checked: null,\n      phone: '',\n      ig: '',\n      discord: '',\n      prefs_save_success: false\n    };\n    this.handleSubmitPrefs = this.handleSubmitPrefs.bind(this);\n    this.onCheck = this.onCheck.bind(this);\n    this.tutorForm = this.tutorForm.bind(this);\n  }\n\n  componentDidMount() {\n    const headers = {\n      \"Content-Type\": \"application/json\"\n    };\n\n    if (localStorage.getItem('auth-token')) {\n      headers[\"Authorization\"] = localStorage.getItem('auth-token');\n    }\n\n    fetch('http://127.0.0.1:8000/account/get_user_info/', {\n      headers\n    }).then(response => response.json()).then(data => {\n      this.setState({\n        foo: data\n      });\n      this.setState({\n        user_id: data.id\n      });\n    }).catch(console.log);\n  }\n\n  handleSubmitPrefs(event) {\n    const requestOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        user_id: this.state.user_id,\n        tutor_checked: this.state.tutor_checked,\n        phone: this.state.phone,\n        ig: this.state.ig,\n        discord: this.state.discord\n      })\n    };\n    fetch('http://127.0.0.1:8000/account/set_prefs/', requestOptions).then(response => response.json()).then(data => {\n      this.setState({}, () => {\n        console.log(\"mail has been sent\\n\\n\");\n      });\n    }).catch(console.log);\n    event.preventDefault();\n  }\n\n  onCheck(event) {\n    this.setState({\n      tutor_checked: event.target.checked\n    });\n  }\n\n  tutorForm() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"What courses would you like to tutor?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"Courses\",\n        multiple: true,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"BIMM100\",\n          children: \"BIMM 100\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"BICD110\",\n          children: \"BICD110\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"BIPN102\",\n          children: \"BIPN102\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(LoggedInTester, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.wrapper,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"formTitle\",\n          children: \"User Preferences\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: this.handleSubmitPrefs,\n          className: \"formWrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.question,\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Would you like to become a tutor?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              className: styles.checkbox,\n              onClick: this.onCheck\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 9\n          }, this), this.state.tutor_checked ? /*#__PURE__*/_jsxDEV(this.tutorForm, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 37\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: this.state.phone,\n            placeholder: \"Phone Number\",\n            className: \"field\",\n            onChange: event => {\n              this.setState({\n                phone: event.target.value\n              });\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: this.state.ig,\n            placeholder: \"Instagram\",\n            className: \"field\",\n            onChange: event => {\n              this.setState({\n                ig: event.target.value\n              });\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: this.state.discord,\n            placeholder: \"Discord\",\n            className: \"field\",\n            style: {\n              marginBottom: \"15px\"\n            },\n            onChange: event => {\n              this.setState({\n                discord: event.target.value\n              });\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"submit\",\n            value: \"Submit\",\n            className: styles.button,\n            onClick: () => {\n              this.setState({\n                prefs_save_success: true\n              });\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 9\n          }, this), this.state.prefs_save_success ? /*#__PURE__*/_jsxDEV(\"p\", {\n            className: styles.message,\n            children: \"Preferences saved\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 42\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/profile\",\n            state: {\n              from: \"occupation\"\n            },\n            className: styles.link,\n            children: \"Back to Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default PrefsQuiz;","map":{"version":3,"names":["React","Component","Link","LoggedInTester","styles","PrefsQuiz","constructor","props","state","user_id","tutor_checked","phone","ig","discord","prefs_save_success","handleSubmitPrefs","bind","onCheck","tutorForm","componentDidMount","headers","localStorage","getItem","fetch","then","response","json","data","setState","foo","id","catch","console","log","event","requestOptions","method","body","JSON","stringify","preventDefault","target","checked","render","wrapper","question","checkbox","value","marginBottom","button","message","from","link"],"sources":["/Users/evelyn/Documents/GitHub/UC-Socially-Undead/src/frontend/src/pages/PrefsQuiz.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport LoggedInTester from '../buttons/LoggedInTester';\nimport styles from '../styles/PrefsQuiz.module.css';\n\nclass PrefsQuiz extends Component {\n    constructor(props) {\n      super(props);\n      this.state = { \n        user_id: 0,\n        tutor_checked: null,\n        phone: '',\n        ig: '',\n        discord: '',\n        prefs_save_success: false,\n      };\n\n      this.handleSubmitPrefs = this.handleSubmitPrefs.bind(this);\n      this.onCheck = this.onCheck.bind(this);\n      this.tutorForm = this.tutorForm.bind(this);\n    }\n\n    componentDidMount() {\n      const headers = {\"Content-Type\": \"application/json\"};\n  \n      if (localStorage.getItem('auth-token')) {\n        headers[\"Authorization\"] = localStorage.getItem('auth-token');\n      }\n  \n      fetch('http://127.0.0.1:8000/account/get_user_info/', { headers, })\n        .then(response => response.json())\n        .then((data) => {\n          this.setState({ foo: data })\n          this.setState({user_id: data.id})\n        })\n      .catch(console.log)\n    }\n\n    handleSubmitPrefs(event) {\n      const requestOptions = {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json', },\n        body: JSON.stringify({ \n          user_id: this.state.user_id,\n          tutor_checked: this.state.tutor_checked,\n          phone: this.state.phone,\n          ig: this.state.ig,\n          discord: this.state.discord})\n      };\n    \n      fetch('http://127.0.0.1:8000/account/set_prefs/', requestOptions)\n        .then(response => response.json())\n        .then((data) => {\n          this.setState({ }, () => {\n            console.log(\"mail has been sent\\n\\n\");})\n        })\n        .catch(console.log)\n        event.preventDefault();\n    }\n\n    onCheck(event) {\n      this.setState({tutor_checked: event.target.checked});\n    }\n\n    tutorForm() {\n      return (\n        <>\n        <p>What courses would you like to tutor?</p>\n        <select name=\"Courses\" multiple>\n          <option value=\"BIMM100\">BIMM 100</option>\n          <option value=\"BICD110\">BICD110</option>\n          <option value=\"BIPN102\">BIPN102</option>\n        </select>\n        <br />\n        </>\n      )\n    }\n\n    render() {\n      return (\n        <>\n        <LoggedInTester />\n        <div className={styles.wrapper}>\n        <p className=\"formTitle\">User Preferences</p>\n        <form onSubmit={this.handleSubmitPrefs} className=\"formWrapper\">\n            \n        <div className={styles.question}>\n          <p>Would you like to become a tutor?</p>\n          <input \n            type=\"checkbox\" \n            className={styles.checkbox} \n            onClick={this.onCheck}/>\n        </div>\n\n        {this.state.tutor_checked ? <this.tutorForm /> : <></>}\n\n        <input \n            type=\"text\" \n            value={this.state.phone} \n            placeholder=\"Phone Number\"\n            className=\"field\"\n            onChange={(event) => {\n              this.setState({ phone: event.target.value })\n            }} \n        />\n\n        <input \n          type=\"text\" \n          value={this.state.ig} \n          placeholder=\"Instagram\"\n          className=\"field\"\n          onChange={(event) => {\n            this.setState({ ig: event.target.value })\n          }} \n        />\n\n        <input \n          type=\"text\" \n          value={this.state.discord} \n          placeholder=\"Discord\"\n          className=\"field\"\n          style={{marginBottom: \"15px\"}}\n          onChange={(event) => {\n            this.setState({ discord: event.target.value })\n          }} \n        />\n\n        <input \n            type=\"submit\" \n            value=\"Submit\" \n            className={styles.button}\n            onClick={() => {\n              this.setState({ prefs_save_success: true})\n            }}\n        />\n\n        {this.state.prefs_save_success ? <p className={styles.message}>Preferences saved</p> : <></>}\n\n        <Link to=\"/profile\" state={{ from: \"occupation\" }}\n        className={styles.link}>\n        Back to Profile\n        </Link>\n\n        </form>\n        </div>\n        </>\n      );\n    }\n  }\n\n  export default PrefsQuiz"],"mappings":"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"},"metadata":{},"sourceType":"module"}