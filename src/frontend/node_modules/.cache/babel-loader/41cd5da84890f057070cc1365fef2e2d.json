{"ast":null,"code":"var _jsxFileName = \"/Users/evelyn/Documents/GitHub/UC-Socially-Undead/src/frontend/src/pages/Calendar.js\";\nimport React from 'react';\nimport LoggedInTester from '../buttons/LoggedInTester';\nimport styles from '../styles/Calendar.module.css';\nimport Calendars from './components/CalendarUI.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass Calendar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user_id: '',\n      ical_link: '',\n      cal: []\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.getCalendar = this.getCalendar.bind(this);\n    this.ShowCalendar = this.ShowCalendar.bind(this);\n  }\n\n  componentDidMount() {\n    const headers = {\n      \"Content-Type\": \"application/json\"\n    };\n\n    if (localStorage.getItem('auth-token')) {\n      headers[\"Authorization\"] = localStorage.getItem('auth-token');\n    }\n\n    fetch('http://127.0.0.1:8000/connect/get_info/', {\n      headers\n    }).then(response => response.json()).then(data => {\n      this.setState({\n        user_id: data.id\n      }, () => {\n        //console.log()\n        this.getCalendar();\n      });\n    }).catch(console.log);\n  }\n\n  handleSubmit() {\n    const requestOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': localStorage.getItem('auth-token')\n      },\n      body: JSON.stringify({\n        ical_link: this.state.ical_link\n      })\n    };\n    fetch('http://127.0.0.1:8000/schedule/upload_schedule/', requestOptions).then(response => response.json())\n    /*\n    .then((data) => {\n      this.setState({ }, () => {\n        console.log()})\n    })\n    */\n    .catch(console.log);\n  }\n\n  getCalendar() {\n    const headers = {\n      \"Content-Type\": \"application/json\"\n    };\n\n    if (localStorage.getItem('auth-token')) {\n      headers[\"Authorization\"] = localStorage.getItem('auth-token');\n    }\n\n    fetch('http://127.0.0.1:8000/schedule/get_schedule/', {\n      headers\n    }).then(response => response.json()).then(data => {\n      this.setState({\n        cal: data\n      }, () => {//console.log()\n      });\n    }).catch(console.log);\n  }\n\n  ShowCalendar(_ref) {\n    let {\n      cal\n    } = _ref;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: cal.map(e => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.eventWrapper,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: styles.eventTitle,\n          children: [\"Event: \", e.event]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: styles.eventDescrip,\n          children: [\"Description: \", e.event]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(LoggedInTester, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 7\n      }, this), localStorage.getItem('auth-token'), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 7\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        style: {\n          color: 'white'\n        },\n        children: \"iCal Link\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: event => {\n          this.setState({\n            ical_link: event.target.value\n          });\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.handleSubmit,\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Calendars, {\n        cal: this.state.cal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default Calendar;","map":{"version":3,"names":["React","LoggedInTester","styles","Calendars","Calendar","Component","constructor","props","state","user_id","ical_link","cal","handleSubmit","bind","getCalendar","ShowCalendar","componentDidMount","headers","localStorage","getItem","fetch","then","response","json","data","setState","id","catch","console","log","requestOptions","method","body","JSON","stringify","map","e","eventWrapper","eventTitle","event","eventDescrip","render","color","target","value"],"sources":["/Users/evelyn/Documents/GitHub/UC-Socially-Undead/src/frontend/src/pages/Calendar.js"],"sourcesContent":["import React from 'react';\nimport LoggedInTester from '../buttons/LoggedInTester';\nimport styles from '../styles/Calendar.module.css'\nimport Calendars from './components/CalendarUI.js'\n\nclass Calendar extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { \n      user_id: '',\n      ical_link: '',\n      cal: []\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.getCalendar = this.getCalendar.bind(this);\n    this.ShowCalendar = this.ShowCalendar.bind(this);\n  }\n\n  componentDidMount() {\n    const headers = {\"Content-Type\": \"application/json\"};\n\n    if (localStorage.getItem('auth-token')) {\n        headers[\"Authorization\"] = localStorage.getItem('auth-token');\n    }\n\n    fetch('http://127.0.0.1:8000/connect/get_info/', { headers, })\n        .then(response => response.json())\n        .then((data) => {\n          this.setState({user_id: data.id}, () => {\n            //console.log()\n            this.getCalendar()})\n        })\n    .catch(console.log)\n  }\n\n  handleSubmit() {\n    const requestOptions = {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json', 'Authorization': localStorage.getItem('auth-token'),},\n      body: JSON.stringify({ \n        ical_link: this.state.ical_link,})\n    };\n  \n    fetch('http://127.0.0.1:8000/schedule/upload_schedule/', requestOptions)\n      .then(response => response.json())\n      /*\n      .then((data) => {\n        this.setState({ }, () => {\n          console.log()})\n      })\n      */\n      .catch(console.log)\n  }\n\n  getCalendar() {\n    const headers = {\"Content-Type\": \"application/json\"};\n\n    if (localStorage.getItem('auth-token')) {\n        headers[\"Authorization\"] = localStorage.getItem('auth-token');\n    }\n\n    fetch('http://127.0.0.1:8000/schedule/get_schedule/', { headers, })\n        .then(response => response.json())\n        .then((data) => {\n          this.setState({cal: data}, () => {\n            //console.log()\n          })\n        })\n    .catch(console.log)\n  }\n\n  ShowCalendar({ cal }) {\n    return(\n      <div>\n        {cal.map(e => \n        <div className={styles.eventWrapper}>\n          <h1 className={styles.eventTitle}>Event: {e.event}</h1>\n          <p className={styles.eventDescrip}>Description: {e.event}</p>\n        </div>\n        )}\n      </div>\n    )\n  }\n\n  render() {\n    return(<>\n      <LoggedInTester />\n      { localStorage.getItem('auth-token') }\n      <br /> <br />\n\n      <label style={{color: 'white'}}>iCal Link</label>\n      <br />\n\n      <input \n      onChange={(event) => {\n        this.setState({ ical_link: event.target.value })}}>\n      </input>\n      <br />\n\n      <button onClick={this.handleSubmit}>Submit</button>\n      <br />\n\n      <Calendars cal={this.state.cal}/>\n    </>)\n  }\n}\n\nexport default Calendar"],"mappings":"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"},"metadata":{},"sourceType":"module"}