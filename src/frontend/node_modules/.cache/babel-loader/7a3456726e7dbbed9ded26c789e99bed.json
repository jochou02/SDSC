{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Caleb\\\\CSE\\\\waittime\\\\UC-Socially-Undead\\\\src\\\\frontend\\\\src\\\\pages\\\\Karma.js\";\nimport React, { Component } from 'react'; // eslint-disable-next-line\n\nimport LoggedInTester from '../buttons/LoggedInTester';\nimport styles from '../styles/Karma.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass Karma extends Component {\n  constructor(props) {\n    super(props);\n\n    this.ShowProfile = _ref => {\n      let {\n        foo\n      } = _ref;\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"ID: \", foo['id']]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: styles.name,\n          children: [foo['first_name'], ' ', foo['last_name']]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Email: \", foo['email']]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"College: \", foo['user_college']]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Karma: \", foo['user_karma']]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true);\n    };\n\n    this.state = {\n      foo: [],\n      add_karma: 0,\n      user_id: 0\n    };\n    this.addKarma = this.addKarma.bind(this);\n  }\n\n  componentDidMount() {\n    const headers = {\n      \"Content-Type\": \"application/json\"\n    };\n\n    if (localStorage.getItem('auth-token')) {\n      headers[\"Authorization\"] = localStorage.getItem('auth-token');\n    }\n\n    fetch('http://127.0.0.1:8000/account/get_user_info/', {\n      headers\n    }).then(response => response.json()).then(data => {\n      this.setState({\n        foo: data\n      });\n      this.setState({\n        user_id: data.id\n      });\n    }).catch(console.log);\n  }\n\n  addKarma() {\n    const requestOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': localStorage.getItem('auth-token')\n      },\n      body: JSON.stringify({\n        add_karma: this.state.add_karma,\n        user_id: this.state.user_id\n      })\n    };\n    fetch('http://127.0.0.1:8000/connect/add_karma/', requestOptions).then(response => {\n      response.json();\n    }).then(() => {\n      this.setState({}, () => {\n        console.log(\"mail has been sent\\n\\n\");\n      });\n    }).catch(console.log); //event.preventDefault();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.profileWrapper,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Karma to add (testing): \" + this.state.add_karma\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          value: this.state.add_karma,\n          className: styles.add_button,\n          onClick: event => {\n            this.setState(prevState => ({\n              add_karma: prevState.add_karma + 1\n            }));\n          },\n          children: \"Karma+1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.addKarma,\n          className: styles.backend_button,\n          children: \"Send info to backend\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  }\n\n}\n\nexport default Karma;","map":{"version":3,"names":["React","Component","LoggedInTester","styles","Karma","constructor","props","ShowProfile","foo","name","state","add_karma","user_id","addKarma","bind","componentDidMount","headers","localStorage","getItem","fetch","then","response","json","data","setState","id","catch","console","log","requestOptions","method","body","JSON","stringify","render","profileWrapper","add_button","event","prevState","backend_button"],"sources":["C:/Users/Caleb/CSE/waittime/UC-Socially-Undead/src/frontend/src/pages/Karma.js"],"sourcesContent":["import React, { Component } from 'react';\r\n\r\n// eslint-disable-next-line\r\nimport LoggedInTester from '../buttons/LoggedInTester';\r\nimport styles from '../styles/Karma.module.css'\r\n\r\nclass Karma extends Component {\r\n  constructor (props) {\r\n    super(props);\r\n    this.state = { \r\n      foo: [],\r\n      add_karma: 0, \r\n      user_id: 0,\r\n    };\r\n    this.addKarma = this.addKarma.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const headers = {\"Content-Type\": \"application/json\"};\r\n\r\n    if (localStorage.getItem('auth-token')) {\r\n      headers[\"Authorization\"] = localStorage.getItem('auth-token');\r\n    }\r\n\r\n    fetch('http://127.0.0.1:8000/account/get_user_info/', { headers, })\r\n      .then(response => response.json())\r\n      .then((data) => {\r\n        this.setState({ foo: data })\r\n        this.setState({user_id: data.id})\r\n      })\r\n    .catch(console.log)\r\n  }\r\n\r\n  addKarma() {\r\n    const requestOptions = {\r\n      method: 'POST',\r\n      headers: { \r\n        'Content-Type': 'application/json',\r\n        'Authorization': localStorage.getItem('auth-token'),\r\n      },\r\n      body: JSON.stringify({add_karma: this.state.add_karma, user_id: this.state.user_id})\r\n    };\r\n    fetch('http://127.0.0.1:8000/connect/add_karma/', requestOptions)\r\n    .then(response => {response.json()})\r\n      .then(() => {\r\n        this.setState({ }, () => {\r\n          console.log(\"mail has been sent\\n\\n\");\r\n        })\r\n      })\r\n      .catch(console.log)\r\n\r\n      //event.preventDefault();\r\n  }\r\n\r\n  ShowProfile = ({ foo }) => {\r\n    return (<>\r\n    <p>ID: {foo['id']}</p>\r\n    <p className={styles.name}>\r\n        {foo['first_name']}\r\n        {' '}\r\n        {foo['last_name']}\r\n    </p>\r\n    <p>Email: {foo['email']}</p> \r\n    <p>College: {foo['user_college']}</p>\r\n    <p>Karma: {foo['user_karma']}</p>\r\n    </>);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n      {/*\r\n        <div className={styles.componentWrapper}>\r\n        <LoggedInTester />\r\n        { localStorage.getItem('auth-token') } <br /><br /><br />\r\n        </div>\r\n      */}\r\n        {/* Example of showing user's information */}\r\n        <div className={styles.profileWrapper}>\r\n\r\n        {/* \r\n        <this.ShowProfile foo={this.state.foo} /> \r\n        */}\r\n        <p>\r\n          {\"Karma to add (testing): \"+ this.state.add_karma}\r\n        </p>\r\n        <button\r\n          value={this.state.add_karma}\r\n          className={styles.add_button}\r\n          onClick={(event) => {\r\n            this.setState(prevState => ({\r\n              add_karma: prevState.add_karma +1\r\n            }));\r\n          }}\r\n        >\r\n          Karma+1\r\n        </button>\r\n\r\n        <button\r\n          onClick={this.addKarma}\r\n          className={styles.backend_button}>\r\n          Send info to backend\r\n        </button>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Karma\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}